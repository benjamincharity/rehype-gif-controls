<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GIF Controls Test</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 2rem;
      }
      .gif-controls-wrapper {
        position: relative;
        display: inline-block;
        cursor: pointer;
        border: 2px dashed #007acc;
        margin: 1rem;
      }
      .gif-controls-image {
        display: block;
        max-width: 300px;
        height: auto;
      }
      .test-result {
        background: #f0f8ff;
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 8px;
      }
    </style>
  </head>
  <body>
    <h1>rehype-gif-controls Test</h1>

    <div class="test-result">
      <h3>‚úÖ Plugin Successfully Processed These GIFs:</h3>
      <div
        class="gif-controls-wrapper"
        data-gif-controls="true"
        data-play-count="2"
        data-autoplay="true"
        data-click-to-replay="true"
      >
        <img
          src="https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif"
          alt="Loading Animation"
          class="gif-controls-image"
          loading="lazy"
        />
      </div>
      <div
        class="gif-controls-wrapper"
        data-gif-controls="true"
        data-play-count="1"
        data-autoplay="true"
      >
        <img
          src="https://media.giphy.com/media/l0HlBO7eyXzSZkJri/giphy.gif"
          alt="React Animation"
          class="gif-controls-image"
          loading="lazy"
        />
      </div>
    </div>

    <div class="test-result">
      <h3>‚úÖ Non-GIF Images Left Unchanged:</h3>
      <img
        src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/React-icon.svg/120px-React-icon.svg.png"
        alt="React Logo"
        style="margin: 1rem"
      />
    </div>

    <div class="test-result">
      <h3>üîç Check Browser DevTools:</h3>
      <ul>
        <li>GIF images wrapped in <code>.gif-controls-wrapper</code></li>
        <li>Data attributes present: <code>data-gif-controls="true"</code></li>
        <li>Scripts injected (when enabled): <code>gifplayer.min.js</code></li>
        <li>Lazy loading: <code>loading="lazy"</code></li>
      </ul>
    </div>

    <!-- This would be auto-injected by the plugin when injectScript: true -->
    <script
      src="https://cdn.jsdelivr.net/npm/gifplayer@0.3.3/dist/gifplayer.min.js"
      async
      defer
    ></script>
    <script>
      // Simulated initialization script
      console.log('GIF Controls: Plugin would initialize here');
      document
        .querySelectorAll('[data-gif-controls="true"]')
        .forEach((wrapper) => {
          console.log('Found GIF wrapper:', wrapper);
          console.log('Play count:', wrapper.dataset.playCount);
          console.log('Autoplay:', wrapper.dataset.autoplay);
        });
    </script>
  </body>
</html>
